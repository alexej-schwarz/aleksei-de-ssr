<div class="grid-container">
  <h2>Дискография</h2>
  @if (albumList(); as albumAll) {
    @for (albumGroup of albumAll; track $index) {
      <h3>{{ albumGroup.title }}</h3>
      <ul class="row">
        @if (albumGroup.list?.[0]?.id) {
          @for (album of albumGroup.list; track album.id) {
            <li
              class="col-12 col-sm-3"
              [class]="{ fixed: album.fixed || !album.id }"
              routerLinkActive="active"
              ariaCurrentWhenActive="page"
            >
              <a routerLink="/albums/{{ album.id }}" class="card">
                <div class="card-body">
                  <p class="card-header">
                    <span class="author">{{ album.author }}</span>&nbsp;
                    @if (album?.releaseYear) {
                      <span class="year">{{ album.releaseYear }}</span>
                    }
                  </p>
                  <div class="card-description">
                    <span class="title">{{ album.title }}</span>
                    @if (album.fixed) {
                      <span>{{ album.description?.[0] | truncate: 440 }}</span>
                    }
                  </div>
                </div>
                <div class="card-image">
                  <app-image
                    [src]="album.coverImageSrc"
                    [alt]="'обложка альбома «' + album.title + '»'"
                  />
                </div>
              </a>
            </li>
          }
        } @else {
          <li class="col-12 col-sm-4">
            <div class="card">
              <div class="card-body">
                <p class="card-header">
                  <span class="author">&nbsp;</span>&nbsp;
                  <span class="year">&nbsp;</span>
                </p>
                <div class="card-description">
                  <span class="title">&nbsp;</span>
                </div>
              </div>
              <div class="card-image">
                <app-image />
              </div>
            </div>
          </li>
        }
      </ul>
    }
  }
</div>
